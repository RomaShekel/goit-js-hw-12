{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\".input\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader-container\")\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const query = input.value;\n\n  loader.classList.add(\"visibility\");\n    searchImages(query);\n});\n\n\nfunction searchImages(query) {\n  const apiKey = \"41928884-dc2fda080aeeea262233bfc7c\";\n  const apiUrl = \"https://pixabay.com/api/\";\n  const requestUrl = `${apiUrl}?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(requestUrl)\n    .then(response => { \n      loader.classList.remove(\"visibility\");\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length > 0) {\n        clearGallery();\n        addImagesToGallery(data.hits);\n\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      }\n    })\n    .catch(error => {\n      loader.classList.remove(\"visibility\");\n      iziToast.error({\n        title: 'Error',\n        message: \"Sorry, there was an error. Please try again later.\",\n      });\n      console.error('Error:', error);\n    });\n}\n\nfunction addImagesToGallery(images) {\n  images.forEach(image => {\n    const cardMarkup = `\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n      <li class=\"card\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"card-img\">\n        <div class=\"card-info\">\n          <div class=\"div-info\">\n            <p>Likes <span>${image.likes}</span></p>\n          </div>\n          <div class=\"div-info\">\n            <p>Views <span>${image.views}</span></p>\n            </div>\n          <div class=\"div-info\">\n            <p>Comments <span>${image.comments}</span></p>\n            </div>\n          <div class=\"div-info\">\n            <p>Downloads <span>${image.downloads}</span></p>\n            </div>\n        </div>\n      </li>\n    </a>\n    `;\n\n    gallery.insertAdjacentHTML(\"beforeend\", cardMarkup);\n\n  });\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = \"\";\n}\n"],"names":["form","input","gallery","loader","event","query","searchImages","requestUrl","response","data","clearGallery","addImagesToGallery","iziToast","error","images","image","cardMarkup","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,mBAAmB,EAEzDH,EAAK,iBAAiB,SAAWI,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAQJ,EAAM,MAEpBE,EAAO,UAAU,IAAI,YAAY,EAC/BG,EAAaD,CAAK,CACtB,CAAC,EAGD,SAASC,EAAaD,EAAO,CAG3B,MAAME,EAAa,qEAA6BF,4DAEhD,MAAME,CAAU,EACb,KAAKC,GAAY,CAEhB,GADAL,EAAO,UAAU,OAAO,YAAY,EAChC,CAACK,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,GACrBC,IACAC,EAAmBF,EAAK,IAAI,GAG5BG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdV,EAAO,UAAU,OAAO,YAAY,EACpCS,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oDACjB,CAAO,EACD,QAAQ,MAAM,SAAUC,CAAK,CACnC,CAAK,CACL,CAEA,SAASF,EAAmBG,EAAQ,CAClCA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAa;AAAA,eACRD,EAAM,sDAAsDA,EAAM;AAAA;AAAA,oBAE7DA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,6BAGzBA,EAAM;AAAA;AAAA;AAAA,6BAGNA,EAAM;AAAA;AAAA;AAAA,gCAGHA,EAAM;AAAA;AAAA;AAAA,iCAGLA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,MAOnCb,EAAQ,mBAAmB,YAAac,CAAU,CAEtD,CAAG,EACgB,IAAIC,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASP,GAAe,CACtBR,EAAQ,UAAY,EACtB"}